<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
th:replace="~{/layout/index :: dynamic(~{::main})}">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Permissions-Policy" content="interest-cohort=()">
<title>Register</title>
<!-- Link to Josefin Sans Google Font API -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Josefin%20Sans">

<!-- Link to FontAwesome CSS -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

<!-- Liên kết Boostrap 5 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
	crossorigin="anonymous">

<!-- Liên kết Scroll -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<!-- Custom CSS -->
<link rel="stylesheet" href="style.css">

<!--  Thymeleaf -->
<html xmlns:th="http://www.thymeleaf.org">
</head>
<body>
	<main ng-controller="register-ctrl">
		<section class="img d-flex justify-content-center align-items-center vh-100"
			style="background-image: url(../assets/images/Login/background.png);">
			<div class="container">
				<div class="d-flex justify-content-center align-items-center">
					<div class="d-none d-lg-flex col col-md-8 col-lg-8 col-xl-9">
						<img th:src="@{|/assest/image/main/register.png|}" class="img-character hover-zoom" alt="Register" style="height: 75%; width: 75%;">
					</div>
					<div class="col col-md-8 col-lg-5 col-xl-4">
						<form class="register-form card shadow-2-strong" style="border-radius: 1rem;" name="form" th:action="@{|/qltv/register/save|}" 
							th:object="${user}" method="post" novalidate>
							<div class="card-body pb-0 row">
								<div class="text-center">
									<h4 class="mt-4 mb-4 text-bold" style="color: #433C3C">ĐĂNG
										KÝ</h4>
								</div>
								<div class="w3-panel w3-red">
									<p>
										<i th:text="${message}" style="text-align: center;"></i>
									</p>
								</div>
								<div class="col">
									<div class="form-group mb-3">
										<label class="mb-1 text-left text-bold"><h6
												class="text-sm mb-0" style="font-size: 0.8rem;">TÊN TÀI
												KHOẢN:</h6></label>
										<div class="input-group flex-nowrap">
											<span class="input-group-text" id="addon-wrapping"><i
												class="fas fa-user"></i></span> <input type="text" id="username"
												name="username" class="form-control"
												 aria-label="Username"
												aria-describedby="addon-wrapping" th:field="*{username}" ng-model="username"  required ng-minlength="5" ng-maxlength="10" ng-pattern="/^[a-zA-Z0-9_]*$/">
										</div>
										<span ng-show="form.username.$invalid">Vui lòng nhập tên tài khoản</span>
									</div>
									<div class="form-group mb-3">
										<label class="mb-1 text-left text-bold"><h6
												class="text-sm mb-0" style="font-size: 0.8rem;">HỌ TÊN CỦA BẠN:</h6></label>
										<div class="input-group flex-nowrap">
											<span class="input-group-text" id="addon-wrapping"><i
												class="fas fa-id-card"></i></span> <input type="text" id="fullname"
												name="fullname" class="form-control"
												aria-label="Username"
												aria-describedby="addon-wrapping" th:field="*{accountdetail.fullname}" ng-model="form.fullname" required ng-minlength="5" ng-pattern="/^[\p{L}\s-]*$/u"> 
										</div>
										<span ng-show="form.fullname.$invalid">Vui lòng nhập họ tên</span>
									</div>
									<div class="form-group mb-3">
										<label class="mb-1 text-left text-bold"><h6
												class="text-sm mb-0" style="font-size: 0.8rem;">EMAIL CỦA BẠN:</h6></label>
										<div class="input-group flex-nowrap">
											<span class="input-group-text" id="addon-wrapping"><i
												class="fas fa-envelope"></i></span> <input type="email" id="email"
												name="email" class="form-control"
												 aria-label="email"
												aria-describedby="addon-wrapping" th:field="*{accountdetail.email}" ng-model="form.email" required>
												
										</div>
										<span ng-show="form.email.$error.required">Bạn chưa nhập email</span>
										<span ng-show="form.email.$error.email">Bạn nhập không đúng định dạng</span>
									</div>
									<div class="form-group mb-3">
									<label class="mb-1 text-left text-bold"><h6 class="text-sm mb-0" style="font-size: 0.8rem;">NHẬP MẬT KHẨU:</h6></label>
										<div class="input-group flex-nowrap">
											<span class="input-group-text" id="addon-wrapping"><i
												class="fas fa-key"></i></span> <input type="password" id="pw"
												name="password" class="form-control"
												placeholder="Nhập mật khẩu của bạn" aria-label="pass"
												aria-describedby="addon-wrapping" th:field="*{password}" ng-model="password" required ng-minlength="5" ng-pattern="/^[a-zA-Z0-9_]*$/">
										</div>
									</div>
									<div class="form-group mb-3">
									<label class="mb-1 text-left text-bold"><h6 class="text-sm mb-0" style="font-size: 0.8rem;">NHẬP LẠI MẬT KHẨU:</h6></label>
										<div class="input-group flex-nowrap">
											<span class="input-group-text" id="addon-wrapping"><i
												class="fas fa-key"></i></span> <input type="password" id="repw"
												name="repassword" class="form-control"
												placeholder="Nhập lại mật khẩu của bạn" aria-label="repass"
												aria-describedby="addon-wrapping" ng-model="repassword" ng-change="checkPasswordMatch()" required ng-minlength="5" ng-pattern="/^[a-zA-Z0-9_]*$/">
										</div>
									</div>
								</div>
								<div class="col">
									<div class="form-group mb-3">
										<label class="mb-1 text-left text-bold"><h6
												class="text-sm mb-0" style="font-size: 0.8rem;">NHẬP ĐỊA CHỈ CỦA BẠN:</h6></label>
										<div class="input-group flex-nowrap">
											<span class="input-group-text" id="addon-wrapping"><i
												class="fas fa-envelope"></i></span> <input type="text" id="address"
												name="address" class="form-control"
												placeholder="Nhập địa chỉ" aria-label="email"
												aria-describedby="addon-wrapping" th:field="*{accountdetail.address}" required ng-minlength="10" ng-pattern="/^[\p{L}\s-]*$/u">
										</div>
									</div>
									<div class="mb-3">
										<label for="image" class="form-label">Hình Ảnh</label>
										<input type="file" class="form-control" id="image" onchange="angular.element(this).scope().imageChange(this.files)" th:field="*{accountdetail.image}" ng-model="image">
									</div>
									<div class="form-group mb-3">
										<h6 class="mb-1 text-left text-bold" style="font-size: 0.8rem;">GIỚI TÍNH CỦA BẠN:</h6>
										<div class="form-check">
											<input class="form-check-input" type="radio" id="male" name="gender" value="true" defaultChecked  th:field="*{accountdetail.gender}">
											<label class="form-check-label" for="male" > Nam</label>                     
										</div>
										<div class="form-check">
											<input class="form-check-input" type="radio" id="female" name="gender" value="false" th:field="*{accountdetail.gender}" >
											<label class="form-check-label" for="female"> Nữ</label>
										</div>
		
									</div>
								</div>
								<hr class="my-4">
								<div class="text-center">
									<button class="btn btn-warning text-bold btn-lg btn-block"
										style="width: 50%; font-size: 1rem; font-weight:bold; border-radius:7px; border-color:black" type="submit" ng-disabled="(isPasswordMatch && !form.$invalid)? false:true">ĐĂNG
										KÝ TÀI KHOẢN</button>
									<!-- <button class="btn btn-login text-bold btn-lg btn-block" style="width: 50%; font-size: 1rem;" type="submit">ĐĂNG NHẬP</button> -->
									<p class="mt-3">
										Bạn đã có tài khoản? <a href="/qltv/login/form"
											class="link-info text-bold">Đăng nhập tại đây.</a>
									</p>
								</div>
						</form>
					</div>
				</div>
			</div>
		</section>
		<br>
		</main>
		<style>
			input.ng-invalid{
				background-color: red;
			}
		</style>
		<script>
			const togglePassword = document.getElementById("togglePassword");
			const password = document.getElementById("password");
	
			togglePassword.addEventListener('click', function(e) {
				const type = password.getAttribute('type') === 'password' ? 'text'
						: 'password';
				password.setAttribute('type', type);
	
				togglePassword.textContent = type === 'text' ? 'Ẩn' : 'Hiện';
			});
		</script>
	<!-- Script -->
	<!-- CKEditor 4 Standard -->

</body>
</html>