<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" th:replace="~{/layout/index :: dynamic(~{::main})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Book Detail</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap) -->
    <link href="../assest/css/styles.css" rel="stylesheet" />
</head>
<body>
    <main th:object="${item}">
        <div class="container py-5">
            <div class="row">
                <div class="col-md-3">
                    <img th:src="@{|/assest/image/products/${item.image}|}" alt="Book Cover" class="img-fluid" style="max-width: 250px; margin-left: 15px;">
                </div>
                <div class="col-md-9">
                    <h1>[[${item.bname.bookname}]]</h1>
                    <hr>
                    <p> <h4>Nhà xuất bản</h4> [[${item.publishers.publishername}]]</p>
                    <p> <h4>Tác giả</h4> <h6> <img th:src="@{|/assest/image/authors/${item.authors.authorimage}|}" style="width: 25px; height:25px; border-radius:50% ; margin-right:5px;"> [[${item.authors.authorname}]]</h6> </p>
                    <p> <h4>Năm xuất bản</h4> [[${item.bname.bookreleaseyear}]]</p>
                    <p> <h4>Nội dung:</h4> <div ng-style="expandText">[[${item.bname.bookdescription}]]</div> <button style="border:none;" ng-click="toggleText()" ng-bind="buttonText"></button> </p>
                    <hr>
                    <a th:href="@{|/qltv/products/pdf/${item.bookid}|}"  class="btn btn-primary">
                        <i class="bi-book me-1"></i>
                        Đọc sách Online
                    </a>
                    <a th:href="@{|/assest/pdf/${item.pdf}|}" class="btn btn-secondary" th:attr="download=${item.pdf}"> 
                        <i class="bi-download me-1"></i>
                        Tải PDF
                    </a>
                    <th:block th:if="${#request.remoteUser}">
                        <th th:if="${item.available}">
                            <button th:attr="ng-click=@{|cart.add(${item.bookid})|}" class="btn btn-success">
                                <i class="bi-bookmark-plus me-1"></i>
                                Mượn sách (bản cứng)
                            </button>
                        </th>&nbsp
                        <th th:if="!${item.available}">
                            <h3><span class="badge bg-danger" style="margin-top: 10px;  width: 270px;">Sản phẩm đã hết hàng</span></h3>
                        </th>
                    </th:block>
                </div>
            </div>
            <br>
            <div id="comment-section">
                <h4>Comments</h4>
                <ul id="comment-list">
                </ul>
                <div class="comment-form">
                    <input type="text" id="comment-input" placeholder="Thêm bình luận của bạn..." class="">
                    <button id="comment-button" style="margin-top: 15px;">Bình luận</button>
                </div>
            </div>
            <style>
                .comment-section {
    width: 80%; /* Điều chỉnh độ rộng */
    margin: 0 auto;
    padding: 20px;
    background-color: #f8f8f8;
    border: 1px solid #ddd;
    border-radius: 5px;
}

/* Tiêu đề "Comments" */
.comment-section h2 {
    font-size: 24px;
    margin-bottom: 10px;
    color: #333;
}

/* Danh sách bình luận */
#comment-list {
    list-style: none;
    padding: 0;
}

#comment-list li {
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
}

/* Form nhập bình luận */
.comment-form {
    margin-top: 20px;
}

#comment-input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

#comment-button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
}

#comment-button:hover {
    background-color: #0056b3;
}
            </style>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS -->
</body>
</html>